<HTML>
<HEAD>
  <META NAME="GENERATOR" CONTENT="Vi">
  <TITLE>MetaPRL RW CVS Instructions</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000" LINK="#000099" VLINK="#009900" ALINK="#ff0000">
<H2>MetaPRL Read-Write CVS Access</H2>

<OL>
   <LI>Make sure you have ssh version 1 installed on your computer.
   <LI>If you do not have a CVS account set up for you on cvs.metaprl.org:
   <OL>
      <LI>If you don't have a ssh public key, then run <TT>ssh-keygen</TT>. If you do not
      want your key to be protected by a passfrase, then press enter when asked for one.
      <LI>Send your public key (~/.ssh/identity.pub) and your desired login to
      <A HREF="mailto:nogin@cs.cornell.edu">Aleksey Nogin (nogin@cs.cornell.edu)</A>
      or to <A HREF="mailto:jyh@cs.cornell.edu">Jason Hickey (jyh@cs.cornell.edu)</A>.
   </OL>

   <LI>Put the following into your <TT>~/.ssh/config</TT> file (if you do not have <TT>~/.ssh/config</TT> file, then create one):

<PRE>Host metaprl-cvs
HostName cvs.metaprl.org
Port 80
FallBackToRsh no
ForwardX11 no
User &lt;your login on cvs.metaprl.org&gt;</PRE>

   <LI>Set environment variable <TT>CVS_RSH</TT> to <TT>ssh</TT>.
   You may want to add this to your <TT>~/.profile</TT> or <TT>~/.cshrc</TT> file.

   <LI>Make sure you are using cvs version &gt;=1.9 (<TT>cvs -v</TT> prints version).

   <LI>To create new working copy:
   <PRE>cvs -d :ext:metaprl-cvs:/cvsroot checkout meta-prl</PRE>
   If for some reason you can not connect to port 80 on metaprl-cvs, try using port 3000 instead.

   <LI>To fix an old repository:
   <OL>
      <LI>Put the following in the <TT>/tmp/fixrep.sh</TT> :

<PRE>#!/bin/sh
echo :ext:metaprl-cvs:/cvsroot &gt; $1/Root
(echo 's|/meta-prl|/--meta-prl-root-dir--|'; echo 's|^.*/--meta-prl-root-dir--|/cvsroot/meta-prl|'; echo w; echo q) | ed $1/Repository</PRE>

      <LI><PRE>chmod 755 /tmp/fixrep.sh</PRE>

      <LI><PRE>find &lt;old repository directory&gt; -type d -name CVS -exec /tmp/fixrep.sh \{\} \;</PRE>
   </OL>
</OL>
</BODY>
</HTML>


