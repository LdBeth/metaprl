<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <TITLE>Download MetaPRL</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000" LINK="#000099" VLINK="#009900" ALINK="#ff0000">

<H1 align="center">Installing MetaPRL</H1>

<I>Warning: MetaPRL is currently Beta and could still have some nasty bugs.</I>

<H2>Downloading MetaPRL</H2>

<P>In order to compile and run MetaPRL you are going to need the following packages:</P>

<OL>
  <LI>Objective Caml: our version contains a small patch to CamlP4 to compile the
      CamlP4 distribution in native code.
  <LI>The OMake build system.
  <LI>OpenSSL libraries and header files are optional, but highly recommended.
<!--  <LI>Ensemble: you need Ensemble only if you want to use the distributed prover. -->
  <LI>MetaPRL sources.
</OL>

<P>OCaml is currently available as source, Fedora Core 2, 3, 4 and 5, Mandrake
10.1, and Red Hat Enterprize Linux 3 and 4 RPM files for Linux x86. You can
get the listing of available RPMs and download them from <A
HREF="http://rpm.nogin.org/ocaml.html">http://rpm.nogin.org/ocaml.html</A> or
a plain listing directly from <A
HREF="http://rpmbin.nogin.org/MetaPRL/">http://rpmbin.nogin.org/MetaPRL/</a>.
If you are going to build OCaml yourself, get OCaml sources from <a
  href="http://caml.inria.fr/ocaml/release.en.html">http://caml.inria.fr/ocaml/release.en.html</a>
and our patches at <A
HREF="http://svn.metaprl.org/viewcvs/mojave/metaprl/patches/">http://svn.metaprl.org/viewcvs/mojave/metaprl/patches/</A>
(see the <A
HREF="http://svn.metaprl.org/viewcvs/*checkout*/mojave/metaprl/patches/README">README
file</A> for the list of patches you need to apply).</P>

<P>OMake source and binaries for a number of Linux distributions OS X and
Windows can be dowloaded from <a
  href="http://omake.metaprl.org/download.html">http://omake.metaprl.org/download.html</a>.

<P>OCaml and OMake may also be obtained via the <a
  href="http://godi.ocaml-programming.de/">GODI Distribution Framework</a>.

<!-- <P>You can download Ensemble from <A
HREF="ftp://ftp.cs.cornell.edu/pub/ensemble/">ftp://ftp.cs.cornell.edu/pub/ensemble/</A>.</P>
-->

<P> If you are using a Unix-like operation system, you probably already have a
copy of OpenSSL around (note that you need the development files as well,
which are often distributed in a separate <tt>openssl-devel</tt> or
<tt>libopenssl-devel</tt> package).  OpenSSL for Windows is available at <a
  href="http://www.slproweb.com/products/Win32OpenSSL.html">http://www.slproweb.com/products/Win32OpenSSL.html</a>.

<P>You should be able to download MetaPRL sources tarball from <A
HREF="http://files.metaprl.org/">http://files.metaprl.org/</A>, but if you plan to participate in
MetaPRL development, you should consider using <A HREF="#svn">the Subversion access</A> to MetaPRL
sources.</P>

<H3><A NAME="svn">Subversion Access to MetaPRL Sources</A></H3>

<p> You can <A TARGET="_top"
HREF="http://svn.metaprl.org/viewcvs/mojave/metaprl/">browse the MetaPRL
sources repository</a>.

<P>If you plan any development in MetaPRL or if you want to download the latest
version of MetaPRL, you may consider
using the public Subversion repository. This will allow you to have access
to the latest changes in the distribution. The normal
service is read-only, but if you would like to become a contributor
with write access, read the <A HREF="mp-svn-rw.html">read-write Subversion instructions</A>.

<P>The Subversion server is on the machine <TT>svn.metaprl.org</TT>.  You can checkout the distribution by running:</P>

<BLOCKQUOTE>
  <PRE>% svn co svn://svn.metaprl.org/metaprl </PRE>
</BLOCKQUOTE>

From the same server you can also checkout the OMake distribution by running:

<BLOCKQUOTE>
  <PRE>% svn co svn://svn.metaprl.org/omake-branches/0.9.8.x omake</PRE>
</BLOCKQUOTE>

If for some reason (firewall, <EM>etc</EM>) you are having trouble using the
<TT>svn://</TT> access method, you can use <TT>http://</TT> instead:

<BLOCKQUOTE>
   <PRE>% svn co http://svn.metaprl.org/svnroot/mojave/metaprl
% svn co http://svn.metaprl.org/svnroot/mojave/omake-branches/0.9.8.x omake</PRE>
</BLOCKQUOTE>

<P>You can find more information on Subversion from
the <A HREF="http://subversion.tigris.org/">Subversion Home Page</A>, <A
HREF="http://subversion.tigris.org/faq.html">Subversion FAQ</A>, 
and from <A HREF="http://svnbook.red-bean.com/">The Subversion Book</A>.

<H2>Installation and configuration</H2>

<h3>OCaml</h3>

<P>If you are not using
<A HREF="http://rpmbin.nogin.org/MetaPRL/">the provided RPMs</A>, then in order
to install OCaml and CamlP4 download and
unpack the distributions, than apply the <A
HREF="http://svn.metaprl.org/viewcvs/metaprl/patches/">patches</A> (see
the <A
HREF="http://svn.metaprl.org/viewcvs/*checkout*/mojave/metaprl/patches/README">README
file</A> for the list of patches you need to apply). After that, proceed as described in the
<TT>INSTALL</TT> files in the distributions. If your OS supports pthreads, run OCaml configure
script with <TT>-with-pthread</TT> option in order to get pthreads support in OCaml.
After you have compiled and installed OCaml and Camlp4, go to the OCaml source
tree and copy the following files:
<UL>
<LI><TT>parsing/location.cmi</TT>
<LI><TT>parsing/location.mli</TT>
<LI><TT>parsing/longident.cmi</TT>
<LI><TT>parsing/longident.mli</TT>
<LI><TT>parsing/parsetree.cmi</TT>
<LI><TT>parsing/parsetree.mli</TT>
<LI><TT>typing/typecore.cmi</TT>
<LI><TT>typing/typecore.mli</TT>
</UL> into the OCaml library directory.

<h3>OMake</h3>
To build OMake from sources change to the OMake source directory and run <tt>./configure</tt> followed by <tt>make</tt> and <tt>make install</tt>

<!-- <h3>Ensemble</h3>

<P>To install Ensemble, unpack the distribution, and edit the
<TT>&lt;ensemble&gt;/mk/config.mk</TT> file. You will want to
use the Ensemble socket library (not the Unix socket implementation),
then change directories to <TT>&lt;ensemble&gt;/def</TT>, and
run <TT>make</TT>. You can also build the native-code libraries
by running <TT>make</TT> in the <TT>&lt;ensemble&gt;/opt</TT>
directory. More information on Ensemble is available at the
<A HREF="http://www.cs.cornell.edu/Info/Projects/Ensemble/">Ensemble
Home Page</A>.</P> -->

<h3>MetaPRL</h3>

<P>To install MetaPRL, unpack the distribution into some directory
<TT>&lt;metaprl&gt;</TT> and build the distribution with these steps:</P>

<BLOCKQUOTE>
<TT>% cd &lt;metaprl&gt;</TT><BR>
<TT>% omake</TT>
</BLOCKQUOTE>

<P>After you run <TT>omake</tt> for the first time, it will create the
<tt>mk/config</tt> file (as well as an empty <TT>mk/config.local</TT> file)
that you will need to customize, before the <TT>omake</TT> process
can continue. The <tt>mk/config</tt> file is self-documenting.</P>

<!-- <P> If you are using Ensemble, set <TT>ENSROOT=&lt;root of the ensemble
source tree&gt;</TT> in the <TT>mk/config</TT> file.
</P> -->

<P>You may need to set variables <TT>CAMLLIB</TT> and <TT>CAMLP4LIB</TT> to
point to the directories where you have installed OCaml and Camlp4 files. You
can either set them in the <TT>mk/config.local</TT> file, for example:<br>
<code>CAMLLIB=/usr/lib/ocaml<br>
CAMLP4LIB=/usr/lib/ocaml/camlp4</code><br>
or in the environment. If a variable is set in both,
<TT>mk/config.local</tt> takes precedence over the environment.
The defaults are <TT>/usr/lib/ocaml</TT> and <TT>/usr/lib/ocaml/camlp4</TT>
respectively.</P>

<P> Additional configuration options might be necessary on Windows and Mac OS
X. See the corresponding <tt>README</tt> files in the top-level MetaPRL
directory for more information.</P>

<P>MetaPRL can be run with the <p>&lt;metaprl&gt;<tt>/editor/ml/mp</tt><p>
script.  By default, this will attempt to start your browser or prompt you to
connect using your browser. MetaPRL looks better if you use Mozilla or
Firefox, but other browsers (including Konqueror and IE) are likely to work as
well.  Internet Explorer is known to work well when "Arial Unicode MS" font is
installed (arialuni.ttf is available on Microsoft Office CD inside
office1.cab; note that it is not always installed automatically with MS
Office) otherwise some symbols might not by displayed; some other "rich" font
might work as well.

<P>You don't have to use the browser.  You can also use the command-line
interface by running MetaPRL with the <tt>-cli</tt> option, which will expect
to be running in a console with Unicode fonts. To run <tt>mp -cli</tt> in
an <tt>xterm</tt> with the correct fonts, use
<TT>&lt;metaprl&gt;/editor/ml/mpxterm</TT> (normal fonts),
<TT>&lt;metaprl&gt;/editor/ml/mpxterm-large</TT> (larger font), or
<TT>&lt;metaprl&gt;/editor/ml/mpkonsole</TT> (to run in KDE's
<tt>konsole</tt>)</P>

<P>If starting MetaPRL by hands (or from Emacs), the programs to use are
<TT>&lt;metaprl&gt;/editor/ml/mpopt</TT> (native code) and
<TT>&lt;metaprl&gt;/editor/ml/mptop</TT> (bytecode).  You will need to use a
Unicode (<tt>iso10646-1</tt>) font to be able to interact with some sense. We
currently recommend using the
<TT>-misc-fixed-medium-r-normal--15-140-75-75-c-90-iso10646-1</TT> font
(which is what <TT>mpxterm</TT> script uses), but in some cases another font
may work better.</P>

<P>That's it. To navigate the MetaPRL logics and programs, you will need to
read the <TT>&lt;metaprl&gt;/QUICKSTART</TT> file or the <A
TARGET="_top" HREF="user-guide/default.html">User Guide</A>.  To start
developing new code, read the <A TARGET="_top"
HREF="developer-guide/default.html">Developer Guide</A>.</P>

<P>If you need help installing MetaPRL, please feel free to contact us at
<TT>metaprl at metaprl.org</TT>.

</BODY>
</HTML>
