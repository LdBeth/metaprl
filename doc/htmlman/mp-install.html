<HTML>
<HEAD>
  <META NAME="GENERATOR" CONTENT="Adobe PageMill 3.0 Win">
  <TITLE>Download MetaPRL</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000" LINK="#000099" VLINK="#009900" ALINK="#ff0000">

<H1 align="center">Installing MetaPRL</H1>

<I>Warning: MetaPRL is currently Beta and still has some nasty bugs.</I>

<H2>Downloading MetaPRL</H2>

<P>MetaPRL can be downloaded from <A HREF="ftp://ftp.cs.cornell.edu/pub/nuprl/MetaPRL/">ftp://ftp.cs.cornell.edu/pub/nuprl/MetaPRL/</A>.
You will need five packages:</P>

<OL>
  <LI>Objective Caml: our version contains a small
  native code profiler patch.
  <LI>CamlP4: our version contains a small patch to compile the
  CamlP4 distribution in native code, native code profiler patch
  and a patch to install interface files needed by MetaPRL to evaluate programs in the toploop
  <LI>Ensemble: you need Ensemble only if you want to use the distributed
  prover.
  <LI>HTMLDOC: you will need Htmldoc if you want to convert MetaPRL documentation into Postscript or PDF format. Our version contains a small patch to fix a problem with handling of <TT>&lt;PRE&gt;</TT> tags.
  <LI>MetaPRL
</OL>

<P>All source modules are available as source, and RedHat 5.x
RPM packages files for Linux x86. You can get the listing of available RPMs and download them from <A HREF="http://www.cs.cornell.edu/nogin/RPM/meta-prl/ByName.html">http://www.cs.cornell.edu/nogin/RPM/meta-prl/ByName.html</A>
or download them directly from <A HREF="ftp://ftp.cs.cornell.edu/pub/nuprl/MetaPRL/RPM/">ftp://ftp.cs.cornell.edu/pub/nuprl/MetaPRL/RPM/</a>.</P>

<P>There is also a Win32 distribution
that we'll be placing online soon (if you don't see it contact
<A HREF="mailto:jyh@cs.cornell.edu">Jason Hickey</A>). You will
need the Cygnus Systems GNU-Win32 distribution.</P> If you are going to build OCaml and/or Camlp4 yourself, you can get our patches at <A HREF="ftp://ftp.cs.cornell.edu/pub/nuprl/MetaPRL/patches/">ftp://ftp.cs.cornell.edu/pub/nuprl/MetaPRL/patches/</A>

<H3>CVS sources</H3>

<p> You can <A TARGET="_top" HREF="http://ensemble01.cs.cornell.edu:12000/cvsweb/meta-prl/">browse the MetaPRL CVS repository</a>.

<P>If you plan any development in MetaPRL, you may consider
using the public CVS repository. This will allow you to have access 
to the latest changes in the distribution. The normal
service is read-only, but if you would like to become a contributor
with write access, read the <A HREF="mp-cvs-rw.html">read-write CVS instructions</A>.

<P>The CVS server is on the machine <TT>ensemble01.cs.cornell.edu</TT>. 
First log into the server by running

<BLOCKQUOTE>
  <PRE>% cvs -d :pserver:anoncvs@ensemble01.cs.cornell.edu:/cvsroot login</PRE>
</BLOCKQUOTE>

The password is <TT>anoncvs</TT>. It will be stored on your computer, 
so you only have to run the login command once.

<P>Now you can checkout the distribution by running:</P>

<BLOCKQUOTE>
  <PRE>% cvs -d :pserver:anoncvs@ensemble01.cs.cornell.edu:/cvsroot checkout MetaPRL</PRE>
</BLOCKQUOTE>

You can find more information on CVS at 
<A HREF="http://www.cyclic.com/cvs/info.html">Cyclic Software's pages</A>

<H2>Installation and configuration</H2>

<P>If your are not using 
<A HREF="ftp://ftp.cs.cornell.edu/pub/nuprl/MetaPRL/RPM/">the provided RPMs</A>, then in order
to install OCaml and CamlP4 download and 
unpack the distributions, than apply the <A HREF="ftp://ftp.cs.cornell.edu/pub/nuprl/MetaPRL/patches/">patches</A>. After that, proceed as described in the 
<TT>INSTALL</TT> files in the distributions. If your OS supports pthreads, run OCaml configure
script with <TT>-with-pthread</TT> option in order to get pthreads support in OCaml.
After you have compiled and installed OCaml and Camlp4, go to the OCaml source tree and copy the following files:
<TT><UL>
<LI>parsing/location.cmi
<LI>parsing/location.mli
<LI>parsing/longident.cmi
<LI>parsing/longident.mli
<LI>parsing/parsetree.cmi
<LI>parsing/parsetree.mli
<LI>typing/typecore.cmi
<LI>typing/typecore.mli
</UL></TT> into the OCaml library directory.</P>

<P>To install Ensemble, unpack the distribution, and edit the
<TT>&lt;ensemble&gt;/mk/config.mk</TT> file. You will want to
use the Ensemble socket library (not the Unix socket implementation),
then change directories to <TT>&lt;ensemble&gt;/def</TT>, and
run <TT>make</TT>. You can also build the native-code libraries
by running <TT>make</TT> in the <TT>&lt;ensemble&gt;/opt</TT>
directory. More information on Ensemble is available at the
<A HREF="http://www.cs.cornell.edu/Info/Projects/Ensemble/">Ensemble
Home Page</A>.</P>

<P>You may need to set your environment variables <TT>CAMLLIB</TT> and <TT>CAMLP4LIB</TT> to point to the directories where you have installed OCaml and Camlp4 files. The defaults are <TT>/usr/lib/ocaml</TT> and <TT>/usr/lib/camlp4</TT> respectively. If you are using Ensemble, either set <TT>ENSROOT=&lt;root of the ensemble source tree&gt;</TT> or edit the <TT>mk/config</TT> file (this file
will be created when you run <TT>make</TT> for the first time).
</P>

<P> If you want to use Htmldoc, download it from
<A HREF="http://www.easysw.com/~mike/htmldoc/">http://www.easysw.com/~mike/htmldoc/</A></P>

<P>To install MetaPRL, unpack the distribution into some directory
<TT>&lt;meta-prl&gt;</TT> and build the distribution with these steps:</P>

<BLOCKQUOTE>
<TT>% cd &lt;meta-prl&gt;<BR>
% make all</TT> &nbsp; (builds bytecode)<BR>
or<BR>
<TT>% make opt</TT> &nbsp; (builds native code, you need pthreads to be supported by your OS and compiled into OCaml)
</BLOCKQUOTE>

<P>The MetaPRL programs are <TT>&lt;meta-prl&gt;/editor/ml/mptop</TT> (bytecode) and  <TT>&lt;meta-prl&gt;/editor/ml/mpopt</TT> (native code).
You will need to install the &quot;MetaPRL font&quot; to be able
to interact with some sense. The MetaPRL font is in <TT>&lt;meta-prl&gt;/editor/fonts/mp12.bdf</TT>.
You'll get the best success if you use MetaPRL from a shell
window within Emacs. You can start Emacs with the MetaPRL font by
running <TT>emacs -fn mp12</TT>.</P>

<P>That's it. To navigate the MetaPRL logics and programs,
you will need to read the <A TARGET="_top" HREF="user-guide/default.html">User Guide</A>.

</BODY>
</HTML>
