<HTML>
<HEAD>
  <META NAME="GENERATOR" CONTENT="Adobe PageMill 3.0 Win">
  <TITLE>MetaPRLTutorial: Basic Logic operators</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000" LINK="#000099" VLINK="#009900" ALINK="#ff0000">

<H2>MetaPRL Tutorial: Well-formedness</H2>

<P>The first step in creating the logic is to declare a term to
define <I>well-formedness</I> of expressions. We use the term
<TT>type</TT> to provide a well-formedness type judgment. Proofs
of well-formedness are computationally meaningless, and we also
declare a trivial proof term <TT>trivial</TT>.</P>

<P>To form this judgment we create a module <TT>Fol_type</TT>.
First, create an interface:</P>

<BLOCKQUOTE>
  <P>1. <I>Create the file </I><TT>fol_type.mli</TT>, <I>containing
  the line:</I></P>
  <BLOCKQUOTE>
    <PRE><B>declare</B> &quot;type&quot;{'A}
<B>declare</B> trivial</PRE>
  </BLOCKQUOTE>
</BLOCKQUOTE>

<P>The intent of this term is that if the expression <TT>type{'t}</TT>
is <I>provable</I>, then the term <TT>'t</TT> is a well-formed
formula.</P>

<P>The next step is to compile this interface.</P>

<BLOCKQUOTE>
  <P>2. <I>Compile the interface</I> <TT>fol_type.mli</TT>, <I>with
  the command:</I></P>
  <BLOCKQUOTE>
    <PRE>% prlc -c fol_type.mli</PRE>
  </BLOCKQUOTE>
</BLOCKQUOTE>

<P>This step creates two new files: <TT>fol_type.cmi</TT> defines
the ML interface, and the file <TT>file_type.cmiz</TT> contains
the logical signature for the module.</P>

<P>Next, we create the implementation. The rules for well-formedness
will be stated in the module for the logical operators, so the
only implementation we need to include is the syntax declaration
and a display form to produce pretty output.</P>

<BLOCKQUOTE>
  <P>3. <I>Create the file </I><TT>fol_type.ml</TT>,<I> containing
  the following lines:</I></P>
  <BLOCKQUOTE>
    <PRE><B>include</B> Base_theory
<B>declare </B>&quot;type&quot;{'A}
<B>declare</B> trivial
<B>dform</B> type_df : &quot;type&quot;{'A} = slot{'A} `&quot; type&quot;
<B>dform</B> trivial_df : trivial = cdot</PRE>
  </BLOCKQUOTE>
</BLOCKQUOTE>

<P>The <TT>Base_theory</TT> is included for basic logic and display
form definitions. The display form prints the term <TT>type{'t}</TT>
as the term <TT>'t type</TT>. The trivial term is printed as the
single character <TT>cdot</TT>, which is defined in the <TT>Nuprl_font</TT>
module in the <TT>Base_theory</TT> theory.</P>

<P>The next step is to compile this implementation.</P>

<BLOCKQUOTE>
  <P>4. <I>Compile the implemention </I><TT>fol_type.ml</TT>, <I>with
  the following command:</I></P>
  <BLOCKQUOTE>
    <PRE>% prlc -c -I . -I ../base fol_type.ml</PRE>
  </BLOCKQUOTE>
</BLOCKQUOTE>

<P>The compile step produces two files: the <TT>fol_type.cmo</TT>
file contains the ML implementation, and the <TT>fol_type.cmoz</TT>
file contains the logical implementation. The implementation is
checked with the interface during the compile step. Any discrepencies
produce an error.</P>

<P>Now that the module is defined, we can view it with the module
editor. To compile the new editor, change to the <TT>editor/ml</TT>
directory.</P>

<BLOCKQUOTE>
  <P>5. <I>Compile the new editor, with the following commands:</I></P>
  <BLOCKQUOTE>
    <PRE>% cd editor/ml
% make</PRE>
  </BLOCKQUOTE>
</BLOCKQUOTE>

<P>Now, invoke the editor, and view the <TT>Fol_type</TT> module.</P>

<BLOCKQUOTE>
  <P>6. <I>Start the editor, and view the </I><TT>Fol_type</TT><I>
  module,</I></P>
  <PRE><IMG ALT="Screen shot" SRC="mp_fol_type1.gif" WIDTH="670" HEIGHT="512" ALIGN="BOTTOM"
BORDER="0"></PRE>
</BLOCKQUOTE>

<P>The theory listing includes the declarations with their <I>unqualified</I>
names. It also lists the display forms in expanded form. The editor
can be exited with the command <TT>exit 0;;</TT>, or with EOF
(usually <TT>^D</TT> in Emacs).

</BODY>
</HTML>
