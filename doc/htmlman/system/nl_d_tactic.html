<HTML>
<HEAD>
  <META NAME="GENERATOR" CONTENT="Adobe PageMill 3.0 Win">
  <TITLE>Nuprl-Light dT tactic</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">

<H1>Nuprl-Light <TT>dT</TT> tactic</H1>

<P>The <TT>dT</TT> tactic is the main tactic for applying introduction
and elimination rules, and applying equality reasoning. In general,
any reasoning that depends only the <I>shape</I> of a term (regardless
of the context) is implemented as part of the <TT>dT</TT> tactic.
The following fragments illustrate introduction and elimination
reasoning.</P>

<BLOCKQUOTE>
  <PRE>Goal: sequent { 'H; x: 'A &amp; 'B; 'J['x] &gt;- 'C['x] }
<B>BY</B> dT 2
Subgoal: sequent { 'H; u: 'A; v: 'B; 'J['u, 'v] &gt;- 'C['u, 'v] }

Goal: sequent { 'H &gt;- 'A =&gt; 'B }
<B>BY</B> dT 0
Subgoal 1: sequent { 'H &gt;- 'A type }
Subgoal 2: sequent { 'H; x: 'A &gt;- 'B }</PRE>
</BLOCKQUOTE>

<P>The <TT>dT</TT> tactic is also used to perform well-formedness
reasoning, as the following fragment illustrates:</P>

<BLOCKQUOTE>
  <PRE>Goal: sequent { 'H &gt;- ('A =&gt; 'B) type }
<B>BY</B> dT 0
Subgoal 1: sequent { 'H &gt;- 'A type }
Subgoal 2: sequent { 'H &gt;- 'B type }</PRE>
</BLOCKQUOTE>

<P>The <TT>dT</TT> resource is used to list the <TT>dT</TT> operations.
The resource has the declaration:</P>

<BLOCKQUOTE>
  <PRE><B>type</B> d_data
<B>resource</B> (term * (int -&gt; tactic), int -&gt; tactic, d_data) d_resource</PRE>
</BLOCKQUOTE>

<P>The first argument contains the <I>pattern</I> and a <I>tactic</I>
that is applied to terms that match the pattern. The resulting
<TT>dT</TT> tactic has type <TT>int -&gt; tactic</TT>.</P>

<P>Here is an example of adding a component to the <TT>dT</TT>
tactic, from the <TT>Itt_logic</TT> module:</P>

<BLOCKQUOTE>
  <PRE><B>let</B> d_andT i p =
   <B>if</B> i = 0 then
      and_intro (hyp_count_addr p) p
   <B>else</B>
      <B>let</B> u, v = maybe_new_vars2 p &quot;u&quot; &quot;v&quot; in
      <B>let</B> j, k = hyp_indices p i in
         and_elim j k u v p

<B>let</B> and_term = &lt;&lt; 'A &amp; 'B &gt;&gt;

<B>let</B> d_resource = d_resource.resource_improve d_resource (and_term, d_andT)</PRE>
</BLOCKQUOTE>

<P>The <TT>d_andT</TT> tactic defines the component of the <TT>dT</TT>
tactic that applies to reasoning about the conjuction operator,
with two parts, one for the introduction rule, and another for
the elimination rule. The <TT>resource_improve</TT> assignment
adds the rasoning component to the <TT>dT</TT> tactic (which is
computed from the <TT>d_resource</TT>).</P>

<P>The <TT>dT</TT> tactic uses <I>most-specific</I> matching when
it selects a components from reasoning. For instance, if the <TT>dT</TT>
resource contains two tactics, one for reasoning about terms matching
the pattern <TT>'A &amp; 'B</TT>, and another for reasoning about
terms matching <TT>'A &amp; ('B =&gt; 'C)</TT>, the first component
will be used to reason about the term <TT>true &amp; true</TT>,
and the second is used for reasoning about <TT>true &amp; (false
=&gt; (false or false))</TT>.<BR>

</BODY>
</HTML>
