Import qw( env );

$env = $env->clone(
    INCPATH	=> [@{$env->{INCPATH}}, "#lib"]
);

OCamlSources $env
	'debug_symbols.ml',
	'debug.ml';

OCamlLibrary $env 'debug',
	'debug_symbols',
	'debug';

# debug_symbols.ml uses external symbols from clib.a
Depends $env "debug_symbols".$env->{SUFOBJ}, "#clib/clib.a";

## Add the library to the default target list
Default qw( debug.cmxa );
