Import qw( env );

$env = $env->clone(
   INCPATH     => [@{$env->{INCPATH}}, "$env->{MP}/mllib"],
   OCAMLCFLAGS => "$env->{OCAMLCFLAGS} -pp '%CAMLP4MACRO'",
   PPFLAGS     => "$env->{PPFLAGS} $env->{MP}/util/macro.cmo -D$env->{REFINER}_EXN -DSEQ_SET=Array_linear_set",

   # Thanks to PPFLAGS, all these files depend on macro.cmo
   HIDDEPS     => "$env->{MP}/util/macro.cmo",
);

Export qw( env );

Build qw(
   refbase/Conscript
   refsig/Conscript
   refiner/Conscript
   reflib/Conscript
   rewrite/Conscript
   term_ds/Conscript
   term_gen/Conscript
   term_std/Conscript
);
