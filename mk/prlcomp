#
# This function computes the result of the prlc command.
# This duplicates the funcationality in filter/filter/prlcomp.ml
#

#
# Command without a preprocessor
#
WrapC(command) =
   #
   # Default environment
   #
   ENV[] =
      MP_ROOT=$(ROOT)
      MPLIB=$(LIB)
      MP_GROUP=$(quote $(THEORYNAME))
      MP_DESCR=$(quote $(THEORYDESCR))

   #
   # Put together the command
   #
   COMMAND = $(ENV) $(command) -I $(LIB)

   return($(COMMAND))

#
# Command with a preprocessor
#
PrlC(command) =
   #
   # Default environment
   # JYH: do we still need MP_INCLUDE?
   #
   ENV[] =
      MP_ROOT=$(ROOT)
      MPLIB=$(LIB)
      MP_GROUP=$(quote $(THEORYNAME))
      MP_DESCR=$(quote $(THEORYDESCR))
      MP_INCLUDE=$(quote $(concat :, $(OCAMLINCLUDES)))

   #
   # Put together the command
   # JYH: not sure if this should be hardcoded as CAMLP4N.
   #
   COMMAND = $(ENV) $(command) -I $(LIB) -pp $(quote $(CAMLP4N) $(PREFIXED_OCAMLINCLUDES))

   return($(COMMAND))
